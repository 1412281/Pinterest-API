<!DOCTYPE html>
	<head>
  	<title>Pintrest Login</title>
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script async defer src="//assets.pinterest.com/js/pinit.js"></script>
	</head>
	<body>
    <p onclick="pintrest()">Click me</p>
  	<p onclick="pintrest2()">Click me to show accessToken</p>
    <!-- example for API PDK request method -->
  	<div id="result"></div>
    <div id="accessToken"></div>
  	<div id="result2"></div>

    <!-- end examples -->


    <!-- parse property in div id="content" -->
    <div id="content"></div>
	</body>
  <!-- script for demo -->


  <!-- _______________________________________ -->
<script>
    var access_token;
    var _PDK;
    function pintrest2(){
    PDK.request('/v1/me/', function (response) {
         if (!response || response.error) {
           //alert('Error occurred');
         } else {
          console.log(JSON.stringify(response));
             //  alert('success');
               console.log(PDK.getSession().accessToken);
                alert(response);
                $('#accessToken').text(access_token);
         }
       });
    }
// login and call some request , see response in console 
function pintrest(){
    window.pAsyncInit = function() {
        PDK.init({
            appId: "4926379604913963794",
            cookie: true
        });

        //login
        PDK.login({ scope : 'read_relationships, read_public' }, function(response){
            if (!response || response.error) {
              alert('Error occurred');
            } else {
              // save accessToken and PDK;
              access_token = PDK.getSession().accessToken;
              _PDK =  PDK;


               console.log(JSON.stringify(response));
            }
        //get user info
        var pins = [];
       PDK.request('/v1/me/', function (response) {
         if (!response || response.error) {
           //alert('Error occurred');
         } else {
         	console.log(JSON.stringify(response));
             //  alert('success');
               console.log(PDK.getSession().accessToken);
         }
       });

       // get list of user's boards info
        PDK.request('/v1/me/boards', function (response) {
          if (!response || response.error) {
          } else {
            console.log(JSON.stringify(response));
                 // PDK.logout();
          }
        });

        //end get board info

        // get list of board's pins
         PDK.request('/v1/boards/673077175498420282/pins/', function (response) {
          if (!response || response.error) {
          } else {
            console.log(JSON.stringify(response));
                 // PDK.logout();
          }
        });
        //end get board info
        });
        //end login
    };
    (function(d, s, id){
        var js, pjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.id = id;
        js.src = "https://assets.pinterest.com/sdk/sdk.js";
        pjs.parentNode.insertBefore(js, pjs);
    }(document, 'script', 'pinterest-jssdk'));
}
</script>

</body>
</html>